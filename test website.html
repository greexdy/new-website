<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Brecht — Minimal Dark</title>
  <meta name="color-scheme" content="dark light" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #0e0f12;
      --elev-1: #14161a;
      --elev-2: #1a1d22;
      --text: #e9e9ef;
      --muted: #a5a8b6;
      --accent: #18c37e;
      --border: #23262d;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 14px;
      --radius-sm: 10px;
      --radius-lg: 20px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif;
      background: radial-gradient(1200px 800px at 80% -10%, #182029 0%, transparent 60%) no-repeat, var(--bg);
      color:var(--text);
      line-height:1.6;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      scroll-behavior:smooth;
    }
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{width:min(1100px, 92%);margin-inline:auto}

    /* Header */
    header{
      position:sticky;top:0;z-index:50;
      backdrop-filter:saturate(1.2) blur(10px);
      background: color-mix(in oklab, var(--bg) 85%, transparent);
      border-bottom:1px solid var(--border);
    }
    .nav{
      display:flex;align-items:center;justify-content:space-between;
      height:64px;
    }
    .brand{font-weight:700;letter-spacing:.5px}
    nav ul{display:flex;gap:22px;list-style:none;padding:0;margin:0}
    nav a{
      color:var(--muted);font-weight:500;padding:8px 10px;border-radius:10px;
      transition:color .2s, background .2s, transform .2s;
    }
    nav a:hover{color:var(--text);background:var(--elev-1)}
    .cta{
      background:var(--accent);color:#07140e;font-weight:700;padding:10px 14px;border-radius:12px;
    }

    /* Hero */
    .hero{
      padding:84px 0 36px;
      display:grid;gap:26px;
    }
    .hero h1{
      font-size:clamp(32px, 5vw, 56px);
      line-height:1.1;margin:0 0 8px;
      letter-spacing:.2px;
    }
    .hero p{color:var(--muted);margin:0 0 10px;font-size:clamp(15px, 2vw, 18px)}
    .hero .chips{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
    .chip{
      padding:8px 12px;border:1px solid var(--border);border-radius:999px;color:var(--muted);
      background:linear-gradient(180deg, var(--elev-2), var(--elev-1));
    }

    /* Sections */
    section{padding:40px 0}
    .section-title{
      display:flex;align-items:center;justify-content:space-between;margin:0 0 18px;
    }
    .section-title h2{
      margin:0;font-size:22px;letter-spacing:.2px
    }
    .card{
      background:linear-gradient(180deg, var(--elev-2), var(--elev-1));
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
    }

    /* Gallery */
    .gallery-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:14px;
    }
    .gallery-item{
      position:relative;overflow:hidden;border-radius:var(--radius-sm);
      aspect-ratio: 4 / 3; background:#0a0b0d;
      border:1px solid var(--border);
    }
    .gallery-item img{width:100%;height:100%;object-fit:cover;transition:transform .35s ease}
    .gallery-item:hover img{transform:scale(1.05)}
    .gallery-item .caption{
      position:absolute;inset:auto 8px 8px 8px;
      background:linear-gradient(180deg, transparent, rgba(0,0,0,.55));
      color:#e7e8ee;padding:8px 10px;border-radius:10px;font-size:13px
    }

    /* Lightbox */
    .lightbox{
      position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.78);z-index:60;
    }
    .lightbox.open{display:grid}
    .lightbox-inner{
      width:min(1000px, 92%);max-height:88vh;display:grid;gap:10px;
    }
    .lightbox-media{
      position:relative;background:#0a0b0d;border-radius:var(--radius-lg);overflow:hidden;border:1px solid var(--border)
    }
    .lightbox-media img{width:100%;height:auto;display:block}
    .lightbox-toolbar{
      display:flex;justify-content:space-between;align-items:center;
      padding:10px 12px;background:var(--elev-2);border:1px solid var(--border);border-radius:12px
    }
    .lb-btn{
      background:transparent;border:1px solid var(--border);color:var(--text);
      padding:8px 12px;border-radius:12px;cursor:pointer;transition:background .2s, border-color .2s
    }
    .lb-btn:hover{background:var(--elev-1);border-color:#2b2f38}
    .lb-meta{color:var(--muted);font-size:14px}

    /* Weather */
    .weather-card{
      display:grid;grid-template-columns:1fr;gap:12px;padding:16px
    }
    .weather-top{display:flex;align-items:center;gap:12px}
    .weather-top img{width:60px;height:60px}
    .weather-main{display:flex;align-items:baseline;gap:10px}
    .temp{font-size:42px;font-weight:700}
    .cond{color:var(--muted)}
    .weather-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-top:8px}
    .w-cell{
      background:var(--elev-2);border:1px solid var(--border);border-radius:12px;padding:10px;
      display:grid;gap:4px;justify-items:start
    }
    .w-label{color:var(--muted);font-size:12px}
    .w-value{font-weight:600}

    /* Blog */
    .blog-grid{
      display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:14px
    }
    .post{
      overflow:hidden;border-radius:var(--radius);border:1px solid var(--border);
      background:linear-gradient(180deg, var(--elev-2), var(--elev-1));
      display:grid;grid-template-rows:auto 1fr;min-height:280px
    }
    .post img{width:100%;height:160px;object-fit:cover}
    .post-body{padding:12px 14px;display:grid;gap:6px}
    .post-title{font-weight:700}
    .post-meta{color:var(--muted);font-size:12px}
    .post-tags{display:flex;gap:8px;flex-wrap:wrap}
    .tag{font-size:12px;padding:6px 8px;border:1px solid var(--border);border-radius:999px;color:var(--muted)}
    .post a.read{margin-top:4px;color:var(--accent);font-weight:600}

    /* Post modal */
    .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.78);z-index:70}
    .modal.open{display:grid}
    .modal-card{
      width:min(900px, 92%);max-height:88vh;overflow:auto;padding:18px;border-radius:16px;
      background:linear-gradient(180deg, var(--elev-2), var(--elev-1));border:1px solid var(--border)
    }
    .modal-card h3{margin:0 0 6px}
    .modal-card .meta{color:var(--muted);font-size:13px;margin-bottom:12px}
    .modal-card .content p{margin:0 0 12px}
    .modal-close{position:sticky;top:0;float:right;margin:-6px -6px 8px 0}
    .modal-close button{border:1px solid var(--border);background:var(--elev-2);color:var(--text);padding:8px 10px;border-radius:10px}

    /* Footer */
    footer{padding:30px 0;color:var(--muted);border-top:1px solid var(--border);margin-top:30px}

    @media (max-width:640px){
      .weather-grid{grid-template-columns:repeat(2,1fr)}
      .temp{font-size:36px}
    }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">Brecht</div>
      <nav>
        <ul>
          <li><a href="#home">Home</a></li>
          <li><a href="#gallery">Gallery</a></li>
          <li><a href="#blog">Blog</a></li>
          <li><a href="#weather">Weather</a></li>
        </ul>
      </nav>
      <a class="cta" href="#contact">Contact</a>
    </div>
  </header>

  <main id="home" class="container">
    <section class="hero">
      <h1>Dark. Minimal. Yours.</h1>
      <p>A personal space with a photo gallery, live weather, and a clean blog — fast, responsive, and focused.</p>
      <div class="chips">
        <span class="chip">No frameworks</span>
        <span class="chip">Accessible</span>
        <span class="chip">Responsive</span>
        <span class="chip">Keyboard friendly</span>
      </div>
    </section>

    <!-- Gallery -->
    <section id="gallery">
      <div class="section-title">
        <h2>Gallery</h2>
      </div>
      <div id="galleryGrid" class="gallery-grid"></div>
    </section>

    <!-- Lightbox -->
    <div id="lightbox" class="lightbox" aria-modal="true" role="dialog">
      <div class="lightbox-inner">
        <div class="lightbox-media">
          <img id="lightboxImg" alt="">
        </div>
        <div class="lightbox-toolbar">
          <div class="lb-meta" id="lightboxCaption"></div>
          <div style="display:flex; gap:8px;">
            <button class="lb-btn" id="prevBtn" aria-label="Previous">◀</button>
            <button class="lb-btn" id="nextBtn" aria-label="Next">▶</button>
            <button class="lb-btn" id="closeLb" aria-label="Close">✕</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Weather -->
    <section id="weather">
      <div class="section-title">
        <h2>Weather</h2>
      </div>
      <article class="card weather-card">
        <div class="weather-top">
          <img id="wIcon" alt="" src="" />
          <div>
            <div class="weather-main">
              <div class="temp" id="wTemp">--°</div>
              <div class="cond" id="wCond">Loading…</div>
            </div>
            <div class="cond" id="wPlace">—</div>
          </div>
        </div>
        <div class="weather-grid">
          <div class="w-cell">
            <div class="w-label">Feels like</div>
            <div class="w-value" id="wFeels">—</div>
          </div>
          <div class="w-cell">
            <div class="w-label">High / Low</div>
            <div class="w-value" id="wHiLo">—</div>
          </div>
          <div class="w-cell">
            <div class="w-label">Humidity</div>
            <div class="w-value" id="wHum">—</div>
          </div>
          <div class="w-cell">
            <div class="w-label">Wind</div>
            <div class="w-value" id="wWind">—</div>
          </div>
        </div>
      </article>
      <p style="color:var(--muted);font-size:13px;margin:8px 2px 0;">
        Weather auto-detects your location (with permission) and falls back to Oostende, BE.
      </p>
    </section>

    <!-- Blog -->
    <section id="blog">
      <div class="section-title">
        <h2>Blog</h2>
      </div>
      <div id="blogGrid" class="blog-grid"></div>
    </section>

    <!-- Blog modal -->
    <div id="postModal" class="modal" aria-modal="true" role="dialog">
      <div class="modal-card">
        <div class="modal-close"><button id="closePost">Close</button></div>
        <h3 id="postTitle">Title</h3>
        <div class="meta" id="postMeta"></div>
        <div id="postCoverWrap" style="margin:8px 0 12px;display:none">
          <img id="postCover" alt="">
        </div>
        <div id="postContent" class="content"></div>
      </div>
    </div>

    <!-- Contact placeholder -->
    <section id="contact">
      <div class="section-title"><h2>Contact</h2></div>
      <div class="card" style="padding:16px;">
        <p style="color:var(--muted)">Drop your preferred contact details or embed a form service here.</p>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      © <span id="year"></span> Brecht — Crafted with intention.
    </div>
  </footer>

  <script>
    // =========================
    // SETTINGS — EDIT THESE
    // =========================
    const OPENWEATHER_API_KEY = 'YOUR_API_KEY_HERE'; // <-- add your OpenWeatherMap API key
    const WEATHER_FALLBACK_CITY = 'Oostende,BE';
    // Add your gallery images here (place files in /assets/gallery/)
    const GALLERY = [
      { src: 'assets/gallery/photo1.jpg', alt: 'Seaside evening', caption: 'Blue hour at the pier' },
      { src: 'assets/gallery/photo2.jpg', alt: 'Textures', caption: 'Concrete and shadow' },
      { src: 'assets/gallery/photo3.jpg', alt: 'Minimal skyline', caption: 'Lines against the dusk' },
      { src: 'assets/gallery/photo4.jpg', alt: 'Boardwalk', caption: 'Quiet footsteps' },
      { src: 'assets/gallery/photo5.jpg', alt: 'Waves', caption: 'Monochrome sea' },
      { src: 'assets/gallery/photo6.jpg', alt: 'Neon reflections', caption: 'Night rain' },
    ];
    // Blog posts — update content/cover/date
    const POSTS = [
      {
        id: 'hello-world',
        title: 'Hello, minimal web.',
        date: '2025-08-15',
        tags: ['design', 'personal'],
        excerpt: 'Why I prefer fewer colors, more intention, and quiet motion.',
        cover: 'assets/blog/cover1.jpg',
        content: `
I built this space as a place to think in public. No popups, no clutter — just words, images, and a little movement.

The goal: write more, ship quickly, and let the site evolve with me.`
      },
      {
        id: 'photo-notes',
        title: 'Photo notes from the coast',
        date: '2025-08-21',
        tags: ['photography'],
        excerpt: 'Chasing light and negative space along the water.',
        cover: 'assets/blog/cover2.jpg',
        content: `
Minimalism in photography is mostly about subtraction. Here are a few small rules I’ve been using:

- Hunt for a single subject.
- Keep horizons clean.
- Let shadows do the talking.`
      }
    ];

    // =========================
    // UTILITIES
    // =========================
    const qs = s => document.querySelector(s);
    const qsa = s => Array.from(document.querySelectorAll(s));
    const fmtDate = iso => new Date(iso + 'T00:00:00').toLocaleDateString(undefined, { year:'numeric', month:'short', day:'numeric' });

    // =========================
    // INIT
    // =========================
    document.addEventListener('DOMContentLoaded', () => {
      qs('#year').textContent = new Date().getFullYear();
      renderGallery();
      setupLightbox();
      renderPosts();
      setupPostModal();
      initWeather();
    });

    // =========================
    // GALLERY
    // =========================
    function renderGallery(){
      const grid = qs('#galleryGrid');
      grid.innerHTML = '';
      GALLERY.forEach((g, i) => {
        const item = document.createElement('figure');
        item.className = 'gallery-item';
        item.innerHTML = `
          <img src="${g.src}" alt="${g.alt}">
          <figcaption class="caption">${g.caption}</figcaption>
        `;
        item.addEventListener('click', () => openLightbox(i));
        grid.appendChild(item);
      });
    }

    let lbIndex = 0;
    function setupLightbox(){
      qs('#closeLb').addEventListener('click', closeLightbox);
      qs('#prevBtn').addEventListener('click', () => stepLightbox(-1));
      qs('#nextBtn').addEventListener('click', () => stepLightbox(1));
      document.addEventListener('keydown', (e) => {
        const box = qs('#lightbox');
        if(!box.classList.contains('open')) return;
        if(e.key === 'Escape') closeLightbox();
        if(e.key === 'ArrowRight') stepLightbox(1);
        if(e.key === 'ArrowLeft') stepLightbox(-1);
      });
      qs('#lightbox').addEventListener('click', (e)=> {
        if(e.target.id === 'lightbox') closeLightbox();
      });
    }
    function openLightbox(index){
      lbIndex = index;
      updateLightbox();
      qs('#lightbox').classList.add('open');
    }
    function closeLightbox(){
      qs('#lightbox').classList.remove('open');
    }
    function stepLightbox(step){
      lbIndex = (lbIndex + step + GALLERY.length) % GALLERY.length;
      updateLightbox();
    }
    function updateLightbox(){
      const g = GALLERY[lbIndex];
      qs('#lightboxImg').src = g.src;
      qs('#lightboxImg').alt = g.alt || '';
      qs('#lightboxCaption').textContent = g.caption || '';
    }

    // =========================
    // BLOG
    // =========================
    function renderPosts(){
      const grid = qs('#blogGrid');
      grid.innerHTML = '';
      POSTS.forEach(p => {
        const el = document.createElement('article');
        el.className = 'post';
        el.innerHTML = `
          ${p.cover ? `<img src="${p.cover}" alt="">` : ''}
          <div class="post-body">
            <div class="post-title">${p.title}</div>
            <div class="post-meta">${fmtDate(p.date)}</div>
            <div class="post-tags">${(p.tags||[]).map(t => `<span class="tag">${t}</span>`).join('')}</div>
            <p style="color:var(--muted);margin:6px 0 0">${p.excerpt || ''}</p>
            <a href="#read" class="read">Read →</a>
          </div>
        `;
        el.querySelector('.read').addEventListener('click', (e) => { e.preventDefault(); openPost(p.id); });
        grid.appendChild(el);
      });
    }

    function setupPostModal(){
      qs('#closePost').addEventListener('click', closePost);
      qs('#postModal').addEventListener('click', (e)=> {
        if(e.target.id === 'postModal') closePost();
      });
      document.addEventListener('keydown', (e) => {
        if(e.key === 'Escape') closePost();
      });
    }

    function openPost(id){
      const p = POSTS.find(x => x.id === id);
      if(!p) return;
      qs('#postTitle').textContent = p.title;
      qs('#postMeta').textContent = `${fmtDate(p.date)} ${p.tags?.length ? '• ' + p.tags.join(', ') : ''}`;
      const wrap = qs('#postCoverWrap');
      if(p.cover){
        wrap.style.display = 'block';
        qs('#postCover').src = p.cover;
        qs('#postCover').alt = p.title;
      }else{
        wrap.style.display = 'none';
      }
      // naive markdown-ish rendering (paragraphs + bullets)
      qs('#postContent').innerHTML = renderMarkdownLite(p.content || '');
      qs('#postModal').classList.add('open');
    }
    function closePost(){ qs('#postModal').classList.remove('open'); }

    function renderMarkdownLite(md){
      const esc = (s) => s.replace(/[&<>]/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;'}[c]));
      // bullets
      md = md.replace(/^\s*-\s+(.*)$/gm, '<li>$1</li>');
      md = md.replace(/(<li>[\s\S]*?<\/li>)/g, '<ul>$1</ul>');
      // paragraphs
      const parts = md.split(/\n{2,}/).map(p => p.trim()).filter(Boolean);
      return parts.map(p => p.startsWith('<ul>') ? p : `<p>${p.replace(/\n/g,'<br>')}</p>`).join('\n');
    }

    // =========================
    // WEATHER
    // =========================
    function initWeather(){
      if(OPENWEATHER_API_KEY === 'YOUR_API_KEY_HERE'){
        setWeatherError('Add your OpenWeatherMap API key to enable live weather.');
        return;
      }
      if('geolocation' in navigator){
        navigator.geolocation.getCurrentPosition(
          pos => fetchWeatherByCoords(pos.coords.latitude, pos.coords.longitude),
          () => fetchWeatherByCity(WEATHER_FALLBACK_CITY),
          { enableHighAccuracy:false, timeout:6000, maximumAge:5*60*1000 }
        );
      }else{
        fetchWeatherByCity(WEATHER_FALLBACK_CITY);
      }
      // refresh every 15 minutes
      setInterval(() => {
        if(window.__lastCoords){
          fetchWeatherByCoords(window.__lastCoords.lat, window.__lastCoords.lon);
        }else{
          fetchWeatherByCity(WEATHER_FALLBACK_CITY);
        }
      }, 15*60*1000);
    }

    async function fetchWeatherByCoords(lat, lon){
      window.__lastCoords = { lat, lon };
      const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=${OPENWEATHER_API_KEY}`;
      const res = await fetch(url);
      if(!res.ok) return setWeatherError('Weather unavailable.');
      const data = await res.json();
      updateWeatherUI(data);
    }
    async function fetchWeatherByCity(q){
      const url = `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(q)}&units=metric&appid=${OPENWEATHER_API_KEY}`;
      const res = await fetch(url);
      if(!res.ok) return setWeatherError('Weather unavailable.');
      const data = await res.json();
      updateWeatherUI(data);
    }
    function setWeatherError(msg){
      qs('#wCond').textContent = msg;
      qs('#wTemp').textContent = '--°';
      qs('#wIcon').src = '';
      qs('#wPlace').textContent = '—';
      qs('#wFeels').textContent = '—';
      qs('#wHiLo').textContent = '—';
      qs('#wHum').textContent = '—';
      qs('#wWind').textContent = '—';
    }
    function updateWeatherUI(d){
      const icon = d.weather?.[0]?.icon;
      const desc = d.weather?.[0]?.description || '—';
      const temp = Math.round(d.main?.temp ?? 0);
      const feels = Math.round(d.main?.feels_like ?? 0);
      const hi = Math.round(d.main?.temp_max ?? 0);
      const lo = Math.round(d.main?.temp_min ?? 0);
      const hum = d.main?.humidity ?? 0;
      const wind = d.wind?.speed ?? 0;
      qs('#wIcon').src = icon ? `https://openweathermap.org/img/wn/${icon}@2x.png` : '';
      qs('#wIcon').alt = desc;
      qs('#wTemp').textContent = `${temp}°`;
      qs('#wCond').textContent = capitalize(desc);
      qs('#wPlace').textContent = `${d.name || ''}${d.sys?.country ? ', ' + d.sys.country : ''}`;
      qs('#wFeels').textContent = `${feels}°C`;
      qs('#wHiLo').textContent = `${hi}° / ${lo}°`;
      qs('#wHum').textContent = `${hum}%`;
      qs('#wWind').textContent = `${(wind).toFixed(1)} m/s`;
    }
    function capitalize(s){ return (s||'').split(' ').map(w => w[0]?.toUpperCase()+w.slice(1)).join(' '); }
  </script>
</body>
</html>